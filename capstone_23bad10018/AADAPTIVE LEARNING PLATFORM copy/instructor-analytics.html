<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instructor Analytics - LearnFlow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #2D5A3D;
            --charcoal: #3A3A3A;
            --cream: #F8F6F0;
            --gold: #D4A574;
            --blue: #5B7C99;
            --coral: #C67B73;
            --teal: #7A9B9B;
            --amber: #B8A082;
            --lavender: #A8A2B8;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F0F4F0 100%);
            color: var(--charcoal);
        }
        
        .dashboard-bg {
            background: linear-gradient(135deg, var(--cream) 0%, #F0F4F0 100%);
            min-height: 100vh;
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(45, 90, 61, 0.1);
        }
        
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--sage);
        }
        
        .nav-link.active {
            color: var(--sage);
            font-weight: 600;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--sage) 0%, #3A6B4A 100%);
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(45, 90, 61, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--sage);
            border: 2px solid var(--sage);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: var(--sage);
            color: white;
        }
        
        .metric-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(45, 90, 61, 0.1);
        }
        
        .chart-container {
            background: white;
            border-radius: 1rem;
            border: 1px solid rgba(45, 90, 61, 0.1);
            box-shadow: 0 4px 12px rgba(45, 90, 61, 0.05);
        }
        
        .heatmap-cell {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .heatmap-cell:hover {
            transform: scale(1.1);
            z-index: 10;
        }
        
        .student-row {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .student-row:hover {
            background: var(--sage)/5;
            transform: translateX(4px);
        }
        
        .alert-indicator {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .filter-tab {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .filter-tab.active {
            background: var(--sage);
            color: white;
        }
        
        .floating-element {
            position: absolute;
            opacity: 0.03;
            animation: float 10s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-40px) rotate(15deg); }
        }
    </style>
</head>
<body>
    <div class="dashboard-bg">
        <!-- Navigation -->
        <nav class="fixed top-0 w-full bg-white/90 backdrop-blur-md z-50 border-b border-sage/10">
            <div class="max-w-7xl mx-auto px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-gradient-to-br from-sage to-teal rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-sm">L</span>
                        </div>
                        <span class="text-xl font-bold text-charcoal">LearnFlow</span>
                    </div>
                    <div class="hidden md:flex items-center space-x-8">
                        <a href="index.html" class="nav-link text-charcoal/80 hover:text-sage">Home</a>
                        <a href="student-dashboard.html" class="nav-link text-charcoal/80 hover:text-sage">Student</a>
                        <a href="#" class="nav-link active">Analytics</a>
                        <a href="question-bank.html" class="nav-link text-charcoal/80 hover:text-sage">Content</a>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2">
                            <div class="w-8 h-8 bg-blue rounded-full flex items-center justify-center">
                                <span class="text-white font-semibold text-sm">PI</span>
                            </div>
                            <span class="text-charcoal font-medium">Prof. Instructor</span>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="pt-24 pb-12">
            <div class="max-w-7xl mx-auto px-6">
                <!-- Header Section -->
                <div class="mb-12">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h1 class="text-4xl font-bold text-charcoal mb-2">Analytics Dashboard</h1>
                            <p class="text-xl text-charcoal/70">Comprehensive insights into student learning and performance</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button class="btn-secondary px-4 py-2 rounded-lg font-medium">
                                üìä Export Report
                            </button>
                            <button class="btn-primary px-4 py-2 rounded-lg font-medium">
                                ‚öôÔ∏è Configure Rules
                            </button>
                        </div>
                    </div>
                    
                    <!-- Filter Tabs -->
                    <div class="flex space-x-2 mb-6">
                        <div class="filter-tab active px-4 py-2 rounded-lg bg-sage text-white font-medium">
                            Overview
                        </div>
                        <div class="filter-tab px-4 py-2 rounded-lg bg-white border border-sage/20 text-charcoal font-medium">
                            Cohort Analysis
                        </div>
                        <div class="filter-tab px-4 py-2 rounded-lg bg-white border border-sage/20 text-charcoal font-medium">
                            Content Performance
                        </div>
                        <div class="filter-tab px-4 py-2 rounded-lg bg-white border border-sage/20 text-charcoal font-medium">
                            Predictive Analytics
                        </div>
                    </div>
                </div>

                <!-- Key Metrics -->
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="metric-card rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-sage/10 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-sage" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                                </svg>
                            </div>
                            <div class="alert-indicator w-3 h-3 bg-coral rounded-full"></div>
                        </div>
                        <div class="text-3xl font-bold text-charcoal mb-1">1,247</div>
                        <div class="text-charcoal/60 text-sm">Active Students</div>
                        <div class="text-green-600 text-xs mt-2">‚Üó +12% this month</div>
                    </div>
                    
                    <div class="metric-card rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-blue/10 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                            </div>
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                        </div>
                        <div class="text-3xl font-bold text-charcoal mb-1">78.5%</div>
                        <div class="text-charcoal/60 text-sm">Avg Mastery</div>
                        <div class="text-green-600 text-xs mt-2">‚Üó +5.2% improvement</div>
                    </div>
                    
                    <div class="metric-card rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-gold/10 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                        </div>
                        <div class="text-3xl font-bold text-charcoal mb-1">24.3</div>
                        <div class="text-charcoal/60 text-sm">Avg Time (hrs)</div>
                        <div class="text-blue-600 text-xs mt-2">‚Üí Stable this week</div>
                    </div>
                    
                    <div class="metric-card rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-teal/10 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-teal" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                </svg>
                            </div>
                            <div class="w-3 h-3 bg-teal-500 rounded-full"></div>
                        </div>
                        <div class="text-3xl font-bold text-charcoal mb-1">89.2%</div>
                        <div class="text-charcoal/60 text-sm">Engagement Rate</div>
                        <div class="text-green-600 text-xs mt-2">‚Üó +3.1% this week</div>
                    </div>
                </div>

                <div class="grid lg:grid-cols-3 gap-8">
                    <!-- Main Charts -->
                    <div class="lg:col-span-2 space-y-8">
                        <!-- Cohort Performance Heatmap -->
                        <div class="chart-container p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-charcoal">Cohort Performance Heatmap</h3>
                                <div class="flex items-center space-x-2">
                                    <select class="px-3 py-1 border border-sage/20 rounded-lg text-sm">
                                        <option>Last 30 days</option>
                                        <option>Last 7 days</option>
                                        <option>Last 90 days</option>
                                    </select>
                                </div>
                            </div>
                            <div id="cohort-heatmap" class="h-80"></div>
                        </div>
                        
                        <!-- Learning Velocity Trends -->
                        <div class="chart-container p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-charcoal">Learning Velocity Trends</h3>
                                <div class="flex items-center space-x-2">
                                    <button class="px-3 py-1 bg-sage text-white rounded-lg text-sm">Weekly</button>
                                    <button class="px-3 py-1 border border-sage/20 rounded-lg text-sm text-charcoal/60">Monthly</button>
                                </div>
                            </div>
                            <div id="velocity-chart" class="h-80"></div>
                        </div>
                        
                        <!-- Subject Performance Comparison -->
                        <div class="chart-container p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-charcoal">Subject Performance Comparison</h3>
                                <div class="flex items-center space-x-2">
                                    <button class="px-3 py-1 bg-sage text-white rounded-lg text-sm">Mastery</button>
                                    <button class="px-3 py-1 border border-sage/20 rounded-lg text-sm text-charcoal/60">Engagement</button>
                                </div>
                            </div>
                            <div id="subject-chart" class="h-80"></div>
                        </div>
                    </div>
                    
                    <!-- Sidebar -->
                    <div class="space-y-8">
                        <!-- At-Risk Students -->
                        <div class="bg-white rounded-2xl p-6 border border-sage/10">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-bold text-charcoal">At-Risk Students</h3>
                                <div class="alert-indicator w-3 h-3 bg-coral rounded-full"></div>
                            </div>
                            <div class="space-y-3">
                                <div class="student-row p-3 rounded-lg border border-coral/20">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-coral rounded-full flex items-center justify-center">
                                                <span class="text-white font-semibold text-xs">JS</span>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-charcoal text-sm">John Smith</div>
                                                <div class="text-xs text-charcoal/60">No activity for 5 days</div>
                                            </div>
                                        </div>
                                        <div class="text-coral font-bold text-sm">45%</div>
                                    </div>
                                </div>
                                
                                <div class="student-row p-3 rounded-lg border border-yellow-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center">
                                                <span class="text-white font-semibold text-xs">MJ</span>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-charcoal text-sm">Maria Johnson</div>
                                                <div class="text-xs text-charcoal/60">Declining performance</div>
                                            </div>
                                        </div>
                                        <div class="text-yellow-600 font-bold text-sm">52%</div>
                                    </div>
                                </div>
                                
                                <div class="student-row p-3 rounded-lg border border-yellow-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center">
                                                <span class="text-white font-semibold text-xs">RL</span>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-charcoal text-sm">Robert Lee</div>
                                                <div class="text-xs text-charcoal/60">Struggling with algebra</div>
                                            </div>
                                        </div>
                                        <div class="text-amber-600 font-bold text-sm">58%</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 text-center">
                                <button class="text-sage text-sm font-semibold hover:underline">
                                    View All Alerts ‚Üí
                                </button>
                            </div>
                        </div>
                        
                        <!-- Top Performers -->
                        <div class="bg-white rounded-2xl p-6 border border-sage/10">
                            <h3 class="text-lg font-bold text-charcoal mb-4">Top Performers</h3>
                            <div class="space-y-3">
                                <div class="student-row p-3 rounded-lg border border-green-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                                <span class="text-white font-semibold text-xs">EW</span>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-charcoal text-sm">Emily Wilson</div>
                                                <div class="text-xs text-charcoal/60">Consistent excellence</div>
                                            </div>
                                        </div>
                                        <div class="text-green-600 font-bold text-sm">96%</div>
                                    </div>
                                </div>
                                
                                <div class="student-row p-3 rounded-lg border border-green-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center">
                                                <span class="text-white font-semibold text-xs">MC</span>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-charcoal text-sm">Michael Chen</div>
                                                <div class="text-xs text-charcoal/60">Rapid improvement</div>
                                            </div>
                                        </div>
                                        <div class="text-green-600 font-bold text-sm">94%</div>
                                    </div>
                                </div>
                                
                                <div class="student-row p-3 rounded-lg border border-green-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-green-700 rounded-full flex items-center justify-center">
                                                <span class="text-white font-semibold text-xs">SB</span>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-charcoal text-sm">Sarah Brown</div>
                                                <div class="text-xs text-charcoal/60">Strong across subjects</div>
                                            </div>
                                        </div>
                                        <div class="text-green-600 font-bold text-sm">92%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Content Performance -->
                        <div class="bg-white rounded-2xl p-6 border border-sage/10">
                            <h3 class="text-lg font-bold text-charcoal mb-4">Content Performance</h3>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm font-medium text-charcoal">Question Quality</span>
                                        <span class="text-sm text-sage font-bold">4.7/5.0</span>
                                    </div>
                                    <div class="w-full bg-sage/20 rounded-full h-2">
                                        <div class="bg-sage h-2 rounded-full" style="width: 94%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm font-medium text-charcoal">Difficulty Balance</span>
                                        <span class="text-sm text-blue font-bold">85%</span>
                                    </div>
                                    <div class="w-full bg-blue/20 rounded-full h-2">
                                        <div class="bg-blue h-2 rounded-full" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm font-medium text-charcoal">Coverage Completeness</span>
                                        <span class="text-sm text-teal font-bold">92%</span>
                                    </div>
                                    <div class="w-full bg-teal/20 rounded-full h-2">
                                        <div class="bg-teal h-2 rounded-full" style="width: 92%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6 p-4 bg-sage/5 rounded-lg">
                                <div class="text-sm font-semibold text-charcoal mb-2">Recommendation</div>
                                <div class="text-xs text-charcoal/70">
                                    Add more medium-difficulty questions to Mathematics - Algebra section to improve learning progression.
                                </div>
                            </div>
                        </div>
                        
                        <!-- System Health -->
                        <div class="bg-white rounded-2xl p-6 border border-sage/10">
                            <h3 class="text-lg font-bold text-charcoal mb-4">System Health</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-charcoal/70">API Response Time</span>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                        <span class="text-sm font-semibold text-charcoal">124ms</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-charcoal/70">Database Performance</span>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                        <span class="text-sm font-semibold text-charcoal">98.7%</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-charcoal/70">Active Sessions</span>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                                        <span class="text-sm font-semibold text-charcoal">342</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-charcoal/70">Queue Length</span>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                        <span class="text-sm font-semibold text-charcoal">3</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Floating Elements -->
    <div class="floating-element top-20 left-10 w-32 h-32 bg-sage/5 rounded-full"></div>
    <div class="floating-element top-40 right-20 w-24 h-24 bg-blue/5 rounded-lg" style="animation-delay: -5s;"></div>
    <div class="floating-element bottom-40 left-1/4 w-40 h-40 bg-gold/5 rounded-full" style="animation-delay: -8s;"></div>

    <script src="main.js"></script>
    <script src="analytics-engine.js"></script>
</body>
</html>